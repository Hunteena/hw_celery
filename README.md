# REST API сайта объявлений

## Описание
Реализованы методы создания/удаления/редактирования объявления с полями:
* заголовок,
* описание,
* дата создания,
* владелец.

Создавать объявление может только авторизованный пользователь. Удалять/редактировать может только владелец объявления. 

Дополнительно реализован метод API,  асинхронно рассылающий email всем пользователям.


## Запуск проекта
Redis и postgres запускаются в docker-контейнерах из корневой директории проекта (для подключения к PostgreSQL используются параметры из файла [.env](.env))
```
docker-compose up
```

Для запуска celery
```
cd app
celery -A flask_celery:celery_app worker
```



Для запуска отладочного почтового сервера
```
python3 -m smtpd -c DebuggingServer -n localhost:1025
```
Для поднятия сервера flask запускаем скрипт [app.py](app/app.py)
```
python app.py
```
Сервер доступен по адресу [127.0.0.1:5000](127.0.0.1:5000).

Скрипт [client.py](client.py) создаёт в базе одного пользователя, логинится под ним и создаёт объявление.

Скрипт [client_celery.py](client_celery.py) отправляет почту всем пользователям из базы.
